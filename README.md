# South Africa Trip PWA

可以关联你的本地预定信息：
- 附件由你在手机端本地导入
- 文件只保存在当前浏览器本地存储，不上传到服务器

## 使用

1. 本地启动：

```bash
python3 -m http.server 8080
```

2. 手机和电脑同一网络，打开：`http://<你的电脑局域网IP>:8080`
3. 在页面中按日期导入“行程资料”（可多选，支持 PDF/图片等）
4. 浏览器中执行“添加到主屏幕”

## 部署注意

如果部署到公网（如 GitHub Pages），代码可公开，但你的 PDF 不会随代码上传。

## 版本记录

- 2026-02-08 · `v20260208-11`
  - 汇总页“无法归类到具体日期”列表中，手动提交地点不再显示“坐标未提供”
  - 汇总页“无法归类到具体日期”列表中，手动提交地点不再显示“未找到合适的行程区域”
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v34`）

- 2026-02-08 · `v20260208-10`
  - “Google Maps 南非关注地点”文案改为“粘贴 Google Maps 链接手动提取”
  - 手动输入区仅保留“地点名称（可选）”，移除“地点地址（可选）”
  - 短链接未解析提示文案同步调整为“可填写地点名称后再提取”
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v33`）

- 2026-02-08 · `v20260208-9`
  - 手动提取地点支持“只填写地点名称/地址”直接新增，不必强制粘贴链接
  - 对 `maps.app.goo.gl` 等未解析出名称/地址的短链接，提取结果会提示可补填名称/地址
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v32`）

- 2026-02-08 · `v20260208-8`
  - “Google Maps 南非关注地点”新增手动补充字段：地点名称、地点地址
  - 提取时会优先尝试从可解析的 Google Maps 长链接自动识别名称/地址
  - 对 `maps.app.goo.gl` 短链接，若无法自动解析，可直接用手动输入覆盖（单条链接最推荐）
  - 提取结果提示中新增“自动解析条数”与“多条时仅首条应用手动输入”说明
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v31`）

- 2026-02-08 · `v20260208-7`
  - “Google Maps 南非关注地点”恢复手动粘贴链接提取（不恢复 JSON 文件导入）
  - 点击“提取地点”后新增结果提示（提取成功 / 已存在 / 未识别）
  - 贴入 `maps.app.goo.gl` 这类短链接时，若无法解析坐标也会作为手动地点加入，并显示在“无法归类到具体日期”列表
  - 手动提取地点会本地保存，下次打开页面仍可见
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v30`）

- 2026-02-08 · `v20260208-6`
  - 汇总页接入你提供的 Google Maps 导出地点（`ZA Saved Places.json`），改为内置自动加载
  - 每天“汇总行程小卡片”增加“附近收藏地点”展示（按行程坐标就近匹配）
  - 无法归类到某一天的地点统一在“Google Maps 南非关注地点”卡片展示
  - 移除原先“导入 JSON / 粘贴文本”手动导入方式
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v29`）

- 2026-02-08 · `v20260208-5`
  - 网页头部移除品牌 Logo 展示，仅保留手机安装图标，不再占用可视空间
  - 修复“地图总览”嵌入逻辑：多点路线不再使用 `maps/dir?...&output=embed`，改为稳定的中心点总览嵌入
  - 保留“一键打开当天路线”按钮，外部 Google Maps 导航逻辑不变
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v28`）

- 2026-02-08 · `v20260208-4`
  - 重做 App Logo：采用南非旗帜色块 + 定位图钉元素，替换原先弱识别图标
  - 头部新增品牌区（Logo +「South Africa Trip / 南非旅行助手」）
  - 新增 `apple-touch-icon` 与 PNG 图标（`180/192/512`），修复 iPhone 主屏图标退化问题
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v27`）

- 2026-02-08 · `v20260208-3`
  - 汇总页面新增“南非加油步骤 + 是否给小费”卡片（含常见金额范围）
  - 汇总页面新增“旅程资料添加（支持多个附件）”卡片，可按日期直接多选上传并查看附件列表
  - 汇总页面新增“南非小费文化”卡片（餐厅、加油员、酒店、停车看护等常见场景）
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v26`）

- 2026-02-08 · `v20260208-2`
  - 新增 `2026-02-22`（周日返程日）完整行程卡片：SQ479 `13:40` 起飞、`11:40` 前到 JNB A 航站楼、Southern Sun 退房窗口与早餐信息
  - 汇总页面新增“关键日高亮”能力；2/22 显示“返程关键日”与返程闸门时间（10:30 退房 / 11:40 前到航站楼 / 13:40 起飞）
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v25`）

- 2026-02-08 · `v20260208-1`
  - 新增“汇总页面”（日期选择支持汇总视图）
  - 新增 4 个关键卡片：每日主行程汇总、使领馆联系方式、备注按天汇总并可分享到 iPhone 记事本、Google Maps 南非关注地点提取
  - 资源版本号与 Service Worker 缓存版本已同步更新（`sa-trip-v24`）
